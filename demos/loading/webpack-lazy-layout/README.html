<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<!-- ////////////////////////////////////////////////////////////////////////
     // @license
     // This demo file is part of yFiles for HTML 2.6.
     // Copyright (c) 2000-2023 by yWorks GmbH, Vor dem Kreuzberg 28,
     // 72070 Tuebingen, Germany. All rights reserved.
     //
     // yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution
     // of demo files in source code or binary form, with or without
     // modification, is not permitted.
     //
     // Owners of a valid software license for a yFiles for HTML version that this
     // demo is shipped with are allowed to use the demo source code as basis
     // for their own yFiles for HTML powered applications. Use of such programs is
     // governed by the rights and conditions as set out in the yFiles for HTML
     // license agreement.
     //
     // THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED
     // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
     // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN
     // NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
     // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
     // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
     // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
     // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
     // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
     // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     //
     ////////////////////////////////////////////////////////////////////////-->

    <title>Webpack Lazy Loading yFiles Demo [yFiles for HTML]</title>
    <link rel="stylesheet" href="../../../doc/readme-style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  </head>
  <body>
    <!-- populated by readme-style.js -->
    <div id="header" class="simple-header">Webpack Lazy Load Layout Modules Demo</div>
    <main>
      <div class="content-centered">
        <div class="content">
          <div class="breadcrumbs">
            <a href="../../README.html">yFiles for HTML</a>
            <span class="angle-right"></span>
            Webpack Lazy Load Layout Modules Demo
          </div>

          <div>
            <h1>Webpack Lazy Load Layout Modules Demo</h1>
            <p>
              This demo shows how to lazy load specific yFiles modules with
              <a href="https://webpack.js.org/" target="_blank">webpack</a>
              's
              <a href="https://webpack.js.org/guides/code-splitting/" target="_blank">
                dynamic import
              </a>
              feature.
            </p>
            <p>
              By default, webpack automatically tree-shakes yFiles and only includes the necessary
              modules in the bundle.
            </p>
            <p>
              Additionally, this demo loads yFiles layout functionality lazily and on-demand when an
              user clicks the layout button in the toolbar.
            </p>
            <p>
              This technique allows applications to only load the necessary modules for
              bootstrapping the main application and lazily load functionality on demand during the
              runtime.
            </p>
          </div>
          <div style="padding-bottom: 20px">
            <p>Two fundamental concepts for webpack projects are demonstrated:</p>
            <ul>
              <li>
                <a href="https://webpack.js.org/guides/code-splitting/" target="_blank">
                  Dynamic import of modules
                </a>
              </li>
              <li>
                Separate webpack configurations for development and
                <a href="https://webpack.js.org/guides/production-build/" target="_blank">
                  production
                </a>
              </li>
            </ul>
          </div>

          <div style="padding: 20px 0 20px 0">
            <div>
              <h2>Dynamic Imports with yFiles</h2>
              <p>There are two possible approaches:</p>
              <ul>
                <li>
                  Import yFiles functionality directly from the respective
                  <a
                    href="https://docs.yworks.com/yfileshtml/#/dguide/yfiles-modules#es-modules"
                    target="_blank"
                  >
                    yFiles ES Module
                  </a>
                  which allows webpack to split yFiles in different chunks.
                  <br />
                  This approach is shown in this demo application for the layout functionality when
                  clicking the layout button.
                </li>
                <li>
                  Create a separate diagram component that imports from the
                  <code>yfiles</code>
                  meta module. In this case, webpack cannot separate yFiles anymore, however,
                  tree-shaking is still applied such that only the necessary modules are bundled.
                  <br />
                  This separate diagram component with yFiles can then be loaded dynamically on
                  demand.
                </li>
              </ul>
            </div>
          </div>

          <div style="padding: 20px 0 20px 0">
            <div>
              <h2>Running the demo</h2>

              <p>First, install the required npm modules in the demo directory:</p>

              <code>> npm install</code>

              <h3>Development</h3>

              <p>
                For development, the
                <a href="https://github.com/webpack/docs/wiki/webpack-dev-server">
                  webpack dev server
                </a>
                offers convenient live reloading support to minimize turnaround times.
              </p>
              <p>
                The dev server will serve the webpack bundles from memory (no bundles will be
                created on disc), update the app bundle and refresh the page when changes are made
                to the source files.
              </p>
              <p>To run the dev server:</p>

              <code>> npm start</code>

              <p>
                The webpack dev server will create the bundles in memory and launch the
                <a href="http://localhost:9003/">generated index file</a>
                in a browser.
              </p>
              <p>
                Note that the npm start script will run webpack once before starting the webpack dev
                server, so the generated index.html file already exists when the browser first tries
                to access it.
              </p>

              <p>
                When the server runs, try making changes to
                <code>src/webpack-demo.js</code>
                and see how the app will be updated in the browser immediately.
              </p>

              <p>
                Debugging of application files in the browser's developer tools should work fine, as
                source maps are enabled using webpack's "
                <a href="https://webpack.js.org/plugins/source-map-dev-tool-plugin/">
                  SourceMapDevToolPlugin
                </a>
                ".
              </p>

              <h3>Production</h3>

              <p>The following build steps are specific to the production configuration:</p>
              <ul>
                <li>
                  Append a content-based hash to the bundle filename to enable long-term caching.
                </li>
                <li>
                  <a href="https://webpack.js.org/guides/production-build/#minification">Minify</a>
                  the bundles using webpack's minification plugin.
                </li>
              </ul>

              <p>To run the production build:</p>

              <code>> npm run production</code>

              <p>
                Note that the final minification step of the production build may take some time
                (the first "done" message is misleading).
              </p>
            </div>
          </div>
        </div>
        <!-- populated by readme-style.js -->
        <div id="footer-detailed"></div>
      </div>
    </main>
    <script src="../../../doc/readme-style.js"></script>
  </body>
</html>
