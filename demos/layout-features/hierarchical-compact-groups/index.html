<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<!-- ////////////////////////////////////////////////////////////////////////
     // @license
     // This demo file is part of yFiles for HTML.
     // Copyright (c) by yWorks GmbH, Vor dem Kreuzberg 28,
     // 72070 Tuebingen, Germany. All rights reserved.
     //
     // yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution
     // of demo files in source code or binary form, with or without
     // modification, is not permitted.
     //
     // Owners of a valid software license for a yFiles for HTML version that this
     // demo is shipped with are allowed to use the demo source code as basis
     // for their own yFiles for HTML powered applications. Use of such programs is
     // governed by the rights and conditions as set out in the yFiles for HTML
     // license agreement.
     //
     // THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED
     // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
     // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN
     // NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
     // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
     // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
     // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
     // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
     // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
     // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     //
     ////////////////////////////////////////////////////////////////////////-->

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>Compact Group Nodes with HierarchicalLayout - Layout Features [yFiles for HTML]</title>
    <script type="module" src="../../resources/demo-page-init.ts" async></script>

    <link rel="stylesheet" href="../../resources/style/demo.css" />
  </head>
  <body>
    <header class="demo-header">
      <a
        href="https://www.yworks.com/products/yfiles"
        class="demo-header__y-logo"
        title="Visit yFiles product details"
        target="_blank"
      ></a>
      <div class="demo-header__breadcrumb-wrapper">
        <a href="https://www.yworks.com/products/yfiles">yFiles for HTML</a>
        <a href="../../README.html">Demos</a>

        <span>Compact Groups in Hierarchical Layout</span>
        <a href="../../README.html" class="demo-header__mobile-back">yFiles Demos</a>
      </div>
      <div class="demo-header__right">
        <show-source-button></show-source-button>
        <fullscreen-button></fullscreen-button>
      </div>
    </header>

    <div class="demo-page__toolbar">
      <button data-command="INCREASE_ZOOM"></button>
      <button data-command="ZOOM_ORIGINAL"></button>
      <button data-command="DECREASE_ZOOM"></button>
      <button data-command="FIT_GRAPH_BOUNDS"></button>
      <span class="demo-separator"></span>

      <input
        type="checkbox"
        id="toggle-feature"
        class="demo-toggle-button labeled"
        title="Compact Groups"
        checked=""
      />
      <label for="toggle-feature">Compact Groups</label>
    </div>
    <aside class="demo-page__description">
      <div class="demo-description__header">
        <a
          href="https://www.yworks.com/products/yfiles"
          class="demo-description__logo"
          title="Visit yFiles product details"
          target="_blank"
        ></a>
      </div>
      <div class="demo-description__toggle-button" title="Toggle description"></div>
      <div class="demo-description__play-button">Start here</div>

      <div class="demo-description__content">
        <h1>Compact Group Nodes with HierarchicalLayout</h1>

        <p>
          This demo shows how to configure the
          <a href="https://docs.yworks.com/yfileshtml/#/api/HierarchicalLayout" target="_blank">Hierarchical Layout</a> and the related
          <a href="https://docs.yworks.com/yfileshtml/#/api/DefaultCoordinateAssigner" target="_blank">Coordinate Assigner</a> such that group nodes are
          drawn in a more compact way compared to the algorithm's default settings.
        </p>
        <p>
          It is a common requirement that the dimension of group nodes should be kept as compact as
          possible. With default settings, the hierarchical layout algorithm does not focus on that,
          but, for example, rather tries to avoid bends and to align nodes, which produces less
          compact arrangements.
        </p>

        <h3>Compaction of the layers</h3>
        <p>
          Recursive group layering has an optional <em>compaction</em> feature which tries to keep
          the layer span of group nodes low. It is accessed via the
          <a href="https://docs.yworks.com/yfileshtml/#/api/HierarchicalLayout#compactGroups" target="_blank">compactGroups</a>
          property. In this example, layers are from left to right, thus this property affects group
          width. In the sample, the effect of compaction can be seen with 'Group 3'. That group
          shares its first layer with 'Group 2', whereas without compaction the layers would be
          disjoint.
        </p>

        <h3>Compaction orthogonal to the flow</h3>
        <p>
          To keep group nodes compact with respect to the dimension which is orthogonal to the main
          direction, there are two properties which can be configured. In this example with
          left-to-right layout direction those properties affect the group height (group width in
          default top-to-bottom layout).
        </p>
        <ul>
          <li>
            <a href="https://docs.yworks.com/yfileshtml/#/api/DefaultCoordinateAssignment#groupCompactionStrategy" target="_blank">groupCompactionStrategy</a>
            must be set to <a href="https://docs.yworks.com/yfileshtml/#/api/GroupCompactionPolicy#MAXIMAL" target="_blank">MAXIMAL</a>.
          </li>
          <li>
            <a href="https://docs.yworks.com/yfileshtml/#/api/DefaultCoordinateAssignment#bendReduction" target="_blank">bendReduction</a> should be
            disabled to prioritize compaction over the reduction of bends.
          </li>
        </ul>

        <h3>See the difference</h3>
        <p>
          Use the toggle-button in the toolbar to see the effect the settings have on the layout
          result.
        </p>

        <h3>Code Snippet</h3>
        <p>
          You can copy the code snippet to configure the layout from
          <a
            href="https://github.com/yWorks/yfiles-for-html-demos/blob/master/demos/layout-features/hierarchical-compact-groups/HierarchicalCompactGroups.ts"
            target="_blank"
            >GitHub</a
          >.
        </p>
      </div>
    </aside>
    <div class="demo-page__main">
      <div class="demo-main__graph-component">
        <div id="graphComponent"></div>
      </div>
    </div>
    <script type="module" crossorigin="anonymous" src="SampleApplication.ts" async></script>
  </body>
</html>
